[{"/Users/jacktseng/Desktop/AppWorks/personal-project/src/index.js":"1","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/AppHeader/AppHeader.jsx":"2","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/SearchBar/SearchBar.jsx":"3","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/app/App.jsx":"4","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/appHeader/AppHeader.jsx":"5","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/pageHeader/PageHeader.jsx":"6","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoList/VideoList.jsx":"7","/Users/jacktseng/Desktop/AppWorks/personal-project/src/api/youtube.js":"8","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoCard/VideoCard.jsx":"9","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/searchBar/SearchBar.jsx":"10","/Users/jacktseng/Desktop/AppWorks/personal-project/src/firebase.js":"11","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/partyRoom/PartyRoom.jsx":"12","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/chatBox/ChatBox.jsx":"13","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/chatMessage/ChatMessage.jsx":"14","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/inputBox/InputBox.jsx":"15","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoPlayer/VideoPlayer.jsx":"16","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/modalForm/ModalForm.jsx":"17","/Users/jacktseng/Desktop/AppWorks/personal-project/src/util/modal.js":"18","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/oldUserForm/OldUserForm.jsx":"19","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/userRoom/UserRoom.jsx":"20","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/userRoomCard/UserRoomCard.jsx":"21","/Users/jacktseng/Desktop/AppWorks/personal-project/src/util/localStorage.js":"22","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/activeRoom/ActiveRoom.jsx":"23"},{"size":276,"mtime":1607483615351,"results":"24","hashOfConfig":"25"},{"size":301,"mtime":1607407797195,"results":"26","hashOfConfig":"25"},{"size":535,"mtime":1607409295935,"results":"27","hashOfConfig":"25"},{"size":2330,"mtime":1608450144001,"results":"28","hashOfConfig":"25"},{"size":1054,"mtime":1608479687817,"results":"29","hashOfConfig":"25"},{"size":354,"mtime":1607410119237,"results":"30","hashOfConfig":"25"},{"size":624,"mtime":1608449677001,"results":"31","hashOfConfig":"25"},{"size":539,"mtime":1607437833113,"results":"32","hashOfConfig":"25"},{"size":627,"mtime":1608011985275,"results":"33","hashOfConfig":"25"},{"size":726,"mtime":1608478513156,"results":"34","hashOfConfig":"25"},{"size":904,"mtime":1608258397270,"results":"35","hashOfConfig":"25"},{"size":3285,"mtime":1608474780068,"results":"36","hashOfConfig":"25"},{"size":1190,"mtime":1608270038640,"results":"37","hashOfConfig":"25"},{"size":420,"mtime":1608475909718,"results":"38","hashOfConfig":"25"},{"size":1185,"mtime":1608278043571,"results":"39","hashOfConfig":"25"},{"size":4558,"mtime":1608017438979,"results":"40","hashOfConfig":"25"},{"size":3569,"mtime":1608103740019,"results":"41","hashOfConfig":"25"},{"size":400,"mtime":1608013552818,"results":"42","hashOfConfig":"25"},{"size":575,"mtime":1608103599320,"results":"43","hashOfConfig":"25"},{"size":951,"mtime":1608280600552,"results":"44","hashOfConfig":"25"},{"size":668,"mtime":1608103865984,"results":"45","hashOfConfig":"25"},{"size":217,"mtime":1608258709171,"results":"46","hashOfConfig":"25"},{"size":2441,"mtime":1608453222243,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"1yjb978",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"73"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jacktseng/Desktop/AppWorks/personal-project/src/index.js",[],["99","100"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/AppHeader/AppHeader.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/SearchBar/SearchBar.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/app/App.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/appHeader/AppHeader.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/pageHeader/PageHeader.jsx",[],["101","102"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoList/VideoList.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/api/youtube.js",[],["103","104"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoCard/VideoCard.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/searchBar/SearchBar.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/firebase.js",[],["105","106"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/partyRoom/PartyRoom.jsx",["107"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/chatBox/ChatBox.jsx",["108"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/chatMessage/ChatMessage.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/inputBox/InputBox.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoPlayer/VideoPlayer.jsx",["109","110"],"import React, { useState, useEffect, useRef } from 'react';\nimport ReactPlayer from 'react-player/lazy';\nimport './VideoPlayer.scss';\nimport firebase from '../../firebase';\n\nfunction VideoPlayer({ videoURL, roomId }) {\n  const [playing, setPlaying] = useState(false);\n  const [playingTime, setPlayingTime] = useState(0);\n  const videoRef = useRef(null);\n  const db = firebase.firestore();\n  const docRef = db.collection('partyroom').doc(roomId);\n\n  const updateFirestore = (time) => {\n    docRef.update({\n      playingTime: time,\n    });\n  };\n\n  const monitorFirestore = async () => {\n    await docRef.onSnapshot((doc) => {\n      // console.log('playing', playing);\n      const playingStatus = doc?.data()?.playing;\n      // console.log('playingStatus', playingStatus);\n\n      if (typeof videoRef?.current?.getInternalPlayer()?.pauseVideo !== 'function') {\n        return;\n      }\n      videoRef.current.seekTo(doc?.data()?.playingTime);\n\n      if (playingStatus) {\n        videoRef.current.getInternalPlayer().playVideo();\n      } else {\n        videoRef.current.getInternalPlayer().pauseVideo();\n      }\n\n      // console.log('\\n');\n    });\n  };\n\n  const handleOnProgress = (state) => {\n    // console.log('onProgress callback');\n    // console.log(videoRef.current.getCurrentTime());\n    setPlayingTime((prevState) => {\n      // console.log('Difference', Math.abs(state.playedSeconds - prevState));\n      if (Math.abs(state.playedSeconds - prevState) > 2) {\n        // console.log('playing', playing);\n        updateFirestore(state.playedSeconds);\n        // if (playing) {\n        //   videoRef.current.getInternalPlayer().playVideo();\n        //   docRef.update({\n        //     paused: false,\n        //   });\n        // }\n        // docRef.update({\n        //   // playingTime: videoRef.current.getCurrentTime(),\n        //   playingTime: state.playedSeconds,\n        // });\n      }\n      // console.log('prevState', prevState);\n      // console.log('newState', state.playedSeconds);\n      // console.log('\\n');\n      return state.playedSeconds;\n    });\n  };\n\n  useEffect(() => {\n    monitorFirestore();\n  }, []);\n\n  return (\n    <>\n      <div className='VideoPlayer'>\n        <ReactPlayer\n          playing={true}\n          ref={videoRef}\n          className='react-player'\n          url={`${videoURL}`}\n          controls\n          width='100%'\n          height='100%'\n          onReady={() => {\n            console.log('onReady callback');\n            console.log('someone joined the room!');\n            console.log('\\n');\n          }}\n          onStart={() => {\n            console.log('onStart callback');\n            console.log('\\n');\n          }}\n          onPlay={() => {\n            setPlaying(true);\n\n            // setPlaying((prevState) => {\n            //   console.log('prevState', prevState);\n            docRef.update({\n              playing: true,\n            });\n\n            //   return true;\n            // });\n            // console.log('newState', true);\n\n            console.log('onPlay callback');\n            console.log('\\n');\n          }}\n          onPause={() => {\n            setPlaying(false);\n\n            console.log('playing', playing);\n\n            docRef.update({\n              playing: false,\n              playingTime: videoRef.current.getCurrentTime(),\n            });\n            console.log('onPause callback');\n            console.log('\\n');\n          }}\n          // onEnded={() => {\n          //   console.log('onEnded callback');\n          // }}\n          // onError={() => {\n          //   console.log('onReady callback');\n          // }}\n          onProgress={\n            handleOnProgress\n            // () => {\n            //   console.log('onProgress callback');\n            //   console.log('\\n');\n            // }\n          }\n          // onDuration={(state) => {\n          //   console.log(state);\n          // }}\n          // onSeek={(e) => {\n          //   console.log('onseek', e);\n          // }}\n          // onBuffer={() => {\n          //   setPlaying((prevState) => {\n          //     return true;\n          //   });\n\n          //   docRef.update({\n          //     playing: true,\n          //     playingTime: videoRef.current.getCurrentTime(),\n          //   });\n\n          //   console.log('onBuffer playback');\n          //   console.log('playing', playing);\n\n          //   console.log('\\n');\n          // }}\n        />\n      </div>\n      {/* <button onClick={handlePause}>Pause</button>\n      <button onClick={handlePlay}>Play</button> */}\n    </>\n  );\n}\n\nexport default VideoPlayer;\n","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/modalForm/ModalForm.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/util/modal.js",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/oldUserForm/OldUserForm.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/userRoom/UserRoom.jsx",["111"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/userRoomCard/UserRoomCard.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/util/localStorage.js",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/activeRoom/ActiveRoom.jsx",[],{"ruleId":"112","replacedBy":"113"},{"ruleId":"114","replacedBy":"115"},{"ruleId":"112","replacedBy":"116"},{"ruleId":"114","replacedBy":"117"},{"ruleId":"112","replacedBy":"118"},{"ruleId":"114","replacedBy":"119"},{"ruleId":"112","replacedBy":"120"},{"ruleId":"114","replacedBy":"121"},{"ruleId":"122","severity":1,"message":"123","line":56,"column":6,"nodeType":"124","endLine":56,"endColumn":8,"suggestions":"125"},{"ruleId":"122","severity":1,"message":"126","line":19,"column":6,"nodeType":"124","endLine":19,"endColumn":8,"suggestions":"127"},{"ruleId":"128","severity":1,"message":"129","line":8,"column":10,"nodeType":"130","messageId":"131","endLine":8,"endColumn":21},{"ruleId":"122","severity":1,"message":"132","line":68,"column":6,"nodeType":"124","endLine":68,"endColumn":8,"suggestions":"133"},{"ruleId":"122","severity":1,"message":"134","line":22,"column":6,"nodeType":"124","endLine":22,"endColumn":8,"suggestions":"135"},"no-native-reassign",["136"],"no-negated-in-lhs",["137"],["136"],["137"],["136"],["137"],["136"],["137"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'activeUserRef', 'monitorActiveUsers', 'ref', 'userId', and 'userName'. Either include them or remove the dependency array.","ArrayExpression",["138"],"React Hook useEffect has a missing dependency: 'renderMessages'. Either include it or remove the dependency array.",["139"],"no-unused-vars","'playingTime' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'monitorFirestore'. Either include it or remove the dependency array.",["140"],"React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array.",["141"],"no-global-assign","no-unsafe-negation",{"desc":"142","fix":"143"},{"desc":"144","fix":"145"},{"desc":"146","fix":"147"},{"desc":"148","fix":"149"},"Update the dependencies array to be: [activeUserRef, monitorActiveUsers, ref, userId, userName]",{"range":"150","text":"151"},"Update the dependencies array to be: [renderMessages]",{"range":"152","text":"153"},"Update the dependencies array to be: [monitorFirestore]",{"range":"154","text":"155"},"Update the dependencies array to be: [userId]",{"range":"156","text":"157"},[1658,1660],"[activeUserRef, monitorActiveUsers, ref, userId, userName]",[544,546],"[renderMessages]",[2116,2118],"[monitorFirestore]",[603,605],"[userId]"]
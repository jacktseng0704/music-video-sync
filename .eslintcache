[{"/Users/jacktseng/Desktop/AppWorks/personal-project/src/index.js":"1","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/AppHeader/AppHeader.jsx":"2","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/SearchBar/SearchBar.jsx":"3","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/app/App.jsx":"4","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/appHeader/AppHeader.jsx":"5","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/pageHeader/PageHeader.jsx":"6","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoList/VideoList.jsx":"7","/Users/jacktseng/Desktop/AppWorks/personal-project/src/api/youtube.js":"8","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoCard/VideoCard.jsx":"9","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/searchBar/SearchBar.jsx":"10","/Users/jacktseng/Desktop/AppWorks/personal-project/src/firebase.js":"11","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/partyRoom/PartyRoom.jsx":"12","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/chatBox/ChatBox.jsx":"13","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/chatMessage/ChatMessage.jsx":"14","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/inputBox/InputBox.jsx":"15","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoPlayer/VideoPlayer.jsx":"16","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/modalForm/ModalForm.jsx":"17","/Users/jacktseng/Desktop/AppWorks/personal-project/src/util/modal.js":"18","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/oldUserForm/OldUserForm.jsx":"19","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/userRoom/UserRoom.jsx":"20","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/userRoomCard/UserRoomCard.jsx":"21","/Users/jacktseng/Desktop/AppWorks/personal-project/src/util/localStorage.js":"22","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/activeRoom/ActiveRoom.jsx":"23","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/getUserNameForm/GetUserNameForm.jsx":"24","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/ytSearch/YtSearch.jsx":"25"},{"size":276,"mtime":1607483615351,"results":"26","hashOfConfig":"27"},{"size":301,"mtime":1607407797195,"results":"28","hashOfConfig":"27"},{"size":535,"mtime":1607409295935,"results":"29","hashOfConfig":"27"},{"size":3821,"mtime":1608790514405,"results":"30","hashOfConfig":"27"},{"size":1367,"mtime":1608713117313,"results":"31","hashOfConfig":"27"},{"size":354,"mtime":1607410119237,"results":"32","hashOfConfig":"27"},{"size":697,"mtime":1608608790119,"results":"33","hashOfConfig":"27"},{"size":1107,"mtime":1608544962548,"results":"34","hashOfConfig":"27"},{"size":707,"mtime":1608608814730,"results":"35","hashOfConfig":"27"},{"size":1775,"mtime":1608780842270,"results":"36","hashOfConfig":"27"},{"size":904,"mtime":1608258397270,"results":"37","hashOfConfig":"27"},{"size":3625,"mtime":1608788545030,"results":"38","hashOfConfig":"27"},{"size":1511,"mtime":1608781431175,"results":"39","hashOfConfig":"27"},{"size":538,"mtime":1608783073504,"results":"40","hashOfConfig":"27"},{"size":1357,"mtime":1608783122502,"results":"41","hashOfConfig":"27"},{"size":4918,"mtime":1608606667532,"results":"42","hashOfConfig":"27"},{"size":3616,"mtime":1608608896760,"results":"43","hashOfConfig":"27"},{"size":400,"mtime":1608013552818,"results":"44","hashOfConfig":"27"},{"size":575,"mtime":1608103599320,"results":"45","hashOfConfig":"27"},{"size":1260,"mtime":1608517485031,"results":"46","hashOfConfig":"27"},{"size":668,"mtime":1608103865984,"results":"47","hashOfConfig":"27"},{"size":217,"mtime":1608258709171,"results":"48","hashOfConfig":"27"},{"size":2566,"mtime":1608713369931,"results":"49","hashOfConfig":"27"},{"size":1106,"mtime":1608607612996,"results":"50","hashOfConfig":"27"},{"size":2195,"mtime":1608788873232,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"1yjb978",{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"88"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"54"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jacktseng/Desktop/AppWorks/personal-project/src/index.js",[],["108","109"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/AppHeader/AppHeader.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/SearchBar/SearchBar.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/app/App.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/appHeader/AppHeader.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/pageHeader/PageHeader.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoList/VideoList.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/api/youtube.js",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoCard/VideoCard.jsx",[],["110","111"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/searchBar/SearchBar.jsx",["112"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/firebase.js",[],["113","114"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/partyRoom/PartyRoom.jsx",["115"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/chatBox/ChatBox.jsx",["116"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/chatMessage/ChatMessage.jsx",["117"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/inputBox/InputBox.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/videoPlayer/VideoPlayer.jsx",["118","119"],"import React, { useState, useEffect, useRef } from 'react';\nimport ReactPlayer from 'react-player/lazy';\nimport './VideoPlayer.scss';\nimport firebase from '../../firebase';\n\nfunction VideoPlayer({ videoURL, roomId }) {\n  const [playing, setPlaying] = useState(false);\n  const [playingTime, setPlayingTime] = useState(0);\n  const videoRef = useRef(null);\n  const db = firebase.firestore();\n  const docRef = db.collection('partyroom').doc(roomId);\n\n  const updateFirestore = (time) => {\n    docRef.update({\n      playingTime: time,\n    });\n  };\n\n  const monitorFirestore = async () => {\n    await docRef.onSnapshot((doc) => {\n      // console.log('playing', playing);\n      const playingStatus = doc?.data()?.playing;\n      // console.log('playingStatus', playingStatus);\n\n      if (typeof videoRef?.current?.getInternalPlayer()?.pauseVideo !== 'function') {\n        return;\n      }\n      videoRef.current.seekTo(doc?.data()?.playingTime);\n\n      if (playingStatus) {\n        videoRef.current.getInternalPlayer().playVideo();\n      } else {\n        videoRef.current.getInternalPlayer().pauseVideo();\n      }\n\n      // console.log('\\n');\n    });\n  };\n\n  const handleOnProgress = (state) => {\n    // console.log('onProgress callback');\n    // console.log(videoRef.current.getCurrentTime());\n    setPlayingTime((prevState) => {\n      // console.log('Difference', Math.abs(state.playedSeconds - prevState));\n      if (Math.abs(state.playedSeconds - prevState) > 2) {\n        // console.log('playing', playing);\n        updateFirestore(state.playedSeconds);\n        // if (playing) {\n        //   videoRef.current.getInternalPlayer().playVideo();\n        //   docRef.update({\n        //     paused: false,\n        //   });\n        // }\n        // docRef.update({\n        //   // playingTime: videoRef.current.getCurrentTime(),\n        //   playingTime: state.playedSeconds,\n        // });\n      }\n      // console.log('prevState', prevState);\n      // console.log('newState', state.playedSeconds);\n      // console.log('\\n');\n      return state.playedSeconds;\n    });\n  };\n\n  useEffect(() => {\n    monitorFirestore();\n\n    // const updatePlayingTime = () => {\n    //   docRef.update({\n    //     playingTime,\n    //   });\n    // };\n\n    // window.addEventListener('beforeunload', updatePlayingTime);\n\n    // return () => {\n    //   updatePlayingTime();\n    //   window.removeEventListener('beforeunload', updatePlayingTime);\n    // };\n  }, []);\n\n  // console.log('playing time', playingTime);\n\n  return (\n    <>\n      <div className='VideoPlayer'>\n        <ReactPlayer\n          playing={true}\n          ref={videoRef}\n          className='react-player'\n          url={`${videoURL}`}\n          controls\n          width='100%'\n          height='100%'\n          onReady={() => {\n            console.log('onReady callback');\n            console.log('someone joined the room!');\n            console.log('\\n');\n          }}\n          onStart={() => {\n            console.log('onStart callback');\n            console.log('\\n');\n          }}\n          onPlay={() => {\n            setPlaying(true);\n\n            // setPlaying((prevState) => {\n            //   console.log('prevState', prevState);\n            docRef.update({\n              playing: true,\n            });\n\n            //   return true;\n            // });\n            // console.log('newState', true);\n\n            console.log('onPlay callback');\n            console.log('\\n');\n          }}\n          onPause={() => {\n            setPlaying(false);\n\n            console.log('playing', playing);\n\n            docRef.update({\n              playing: false,\n              playingTime: videoRef.current.getCurrentTime(),\n            });\n            console.log('onPause callback');\n            console.log('\\n');\n          }}\n          // onEnded={() => {\n          //   console.log('onEnded callback');\n          // }}\n          // onError={() => {\n          //   console.log('onReady callback');\n          // }}\n          onProgress={\n            handleOnProgress\n            // () => {\n            //   console.log('onProgress callback');\n            //   console.log('\\n');\n            // }\n          }\n          // onDuration={(state) => {\n          //   console.log(state);\n          // }}\n          // onSeek={(e) => {\n          //   console.log('onseek', e);\n          // }}\n          onBuffer={() => {\n            // setPlaying((prevState) => {\n            //   return true;\n            // });\n            // docRef.update({\n            //   playing: true,\n            //   playingTime: videoRef.current.getCurrentTime(),\n            // });\n            // console.log('onBuffer playback');\n            //   console.log('playing', playing);\n            //   console.log('\\n');\n          }}\n        />\n      </div>\n      {/* <button onClick={handlePause}>Pause</button>\n      <button onClick={handlePlay}>Play</button> */}\n    </>\n  );\n}\n\nexport default VideoPlayer;\n",["120","121"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/modalForm/ModalForm.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/util/modal.js",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/oldUserForm/OldUserForm.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/userRoom/UserRoom.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/userRoomCard/UserRoomCard.jsx",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/util/localStorage.js",[],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/activeRoom/ActiveRoom.jsx",["122"],"/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/getUserNameForm/GetUserNameForm.jsx",["123"],"import React, { useState } from 'react';\nimport './GetUserNameForm.scss';\nimport { nanoid } from 'nanoid';\n\nfunction GetUserNameForm({ setUserData }) {\n  const [userName, setUserName] = useState('');\n  const [userId, setUserId] = useState(nanoid(10));\n\n  const handleChange = (e) => {\n    setUserName(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log('Clicked on form!', userName);\n    updateLocalStorage(userName);\n    setUserData({ userName, userId });\n  };\n\n  const updateLocalStorage = (userName) => {\n    const data = {\n      userId,\n      userName,\n    };\n    localStorage.setItem('partyroom', JSON.stringify(data));\n  };\n\n  return (\n    <>\n      <div className='GuestForm GetUserNameForm'>\n        <form className='form' onSubmit={handleSubmit}>\n          <h2>Please enter your name to join the room</h2>\n          <input\n            value={userName}\n            onChange={handleChange}\n            className='input-field'\n            placeholder='Type your name'\n          />\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default GetUserNameForm;\n","/Users/jacktseng/Desktop/AppWorks/personal-project/src/components/ytSearch/YtSearch.jsx",[],{"ruleId":"124","replacedBy":"125"},{"ruleId":"126","replacedBy":"127"},{"ruleId":"124","replacedBy":"128"},{"ruleId":"126","replacedBy":"129"},{"ruleId":"130","severity":1,"message":"131","line":3,"column":10,"nodeType":"132","messageId":"133","endLine":3,"endColumn":29},{"ruleId":"124","replacedBy":"134"},{"ruleId":"126","replacedBy":"135"},{"ruleId":"136","severity":1,"message":"137","line":62,"column":6,"nodeType":"138","endLine":62,"endColumn":8,"suggestions":"139"},{"ruleId":"136","severity":1,"message":"140","line":29,"column":6,"nodeType":"138","endLine":29,"endColumn":8,"suggestions":"141"},{"ruleId":"130","severity":1,"message":"142","line":6,"column":11,"nodeType":"132","messageId":"133","endLine":6,"endColumn":17},{"ruleId":"130","severity":1,"message":"143","line":8,"column":10,"nodeType":"132","messageId":"133","endLine":8,"endColumn":21},{"ruleId":"136","severity":1,"message":"144","line":81,"column":6,"nodeType":"138","endLine":81,"endColumn":8,"suggestions":"145"},{"ruleId":"124","replacedBy":"146"},{"ruleId":"126","replacedBy":"147"},{"ruleId":"130","severity":1,"message":"148","line":5,"column":10,"nodeType":"132","messageId":"133","endLine":5,"endColumn":21},{"ruleId":"130","severity":1,"message":"149","line":7,"column":18,"nodeType":"132","messageId":"133","endLine":7,"endColumn":27},"no-native-reassign",["150"],"no-negated-in-lhs",["151"],["150"],["151"],"no-unused-vars","'IoSearchCircleSharp' is defined but never used.","Identifier","unusedVar",["150"],["151"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'activeUserRef', 'monitorActiveUsers', 'ref', 'userId', and 'userName'. Either include them or remove the dependency array.","ArrayExpression",["152"],"React Hook useEffect has a missing dependency: 'renderMessages'. Either include it or remove the dependency array.",["153"],"'userId' is assigned a value but never used.","'playingTime' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'monitorFirestore'. Either include it or remove the dependency array.",["154"],["150"],["151"],"'getUserData' is defined but never used.","'setUserId' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"155","fix":"156"},{"desc":"157","fix":"158"},{"desc":"159","fix":"160"},"Update the dependencies array to be: [activeUserRef, monitorActiveUsers, ref, userId, userName]",{"range":"161","text":"162"},"Update the dependencies array to be: [renderMessages]",{"range":"163","text":"164"},"Update the dependencies array to be: [monitorFirestore]",{"range":"165","text":"166"},[1781,1783],"[activeUserRef, monitorActiveUsers, ref, userId, userName]",[849,851],"[renderMessages]",[2433,2435],"[monitorFirestore]"]